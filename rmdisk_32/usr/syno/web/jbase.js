/* Copyright (c) 2014 Synology Inc. All rights reserved. */

Ext.form.VTypes.v4ipText=_JSLIBSTR("vtype","bad_ip");Ext.form.VTypes.v4ipMask=/[.0-9]/;Ext.form.VTypes.v4ipVal=/^([1-9][0-9]{0,1}|1[013-9][0-9]|12[0-689]|2[01][0-9]|22[0-3])([.]([1-9]{0,1}[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])){2}[.]([1-9][0-9]{0,1}|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;Ext.form.VTypes.v4ip=function(a){return Ext.form.VTypes.v4ipVal.test(a)};Ext.form.VTypes.netmaskText=_JSLIBSTR("vtype","bad_mask");Ext.form.VTypes.netmaskMask=/[.0-9]/;Ext.form.VTypes.netmaskVal=/^(128|192|224|24[08]|25[245].0.0.0)|(255.(0|128|192|224|24[08]|25[245]).0.0)|(255.255.(0|128|192|224|24[08]|25[245]).0)|(255.255.255.(0|128|192|224|24[08]|252))$/;Ext.form.VTypes.netmask=function(a){return Ext.form.VTypes.netmaskVal.test(a)};Ext.form.VTypes.netbiosNameText=_JSLIBSTR("vtype","bad_host");Ext.form.VTypes.netbiosNameMask=/[\-_a-zA-Z0-9]/;Ext.form.VTypes.netbiosNameVal=/^[a-zA-Z][\-_a-zA-Z0-9]{0,254}$/;Ext.form.VTypes.netbiosName=function(a){if(!Ext.form.VTypes.netbiosNameVal.test(a)){return false}return true};if(Ext.form.TextField){Ext.apply(Ext.form.TextField.prototype,{minLengthText:_JSLIBSTR("extlang","fieldminlen"),maxLengthText:_JSLIBSTR("extlang","fieldmaxlen"),blankText:_JSLIBSTR("extlang","fieldblank"),regexText:"",emptyText:null})}Ext.namespace("SYNO.JBase");SYNO.JBase.Util={isIOS:function(){var a=/i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS /;return a.test(navigator.userAgent)},formErrinfoString:function(f,d,b,a){var g=Ext.isString(d)?d:"";var c;if(f&&f.success!==true&&f.errinfo){var e=f.errinfo;if(b){g=b.call(a||window,e.sec,e.key)}else{g=_T(e.sec,e.key)}if(Ext.isNumber(e.line)&&-1!==e.line){g=String.format("{0} ({1})",g,e.line)}}return g},reportAjaxResponse:function(h,c,b,e,a){var g="";var f=null;if(!h){g=_T("common","commfail")}else{if(Ext.isString(c.responseText)){try{f=Ext.decode(c.responseText)}catch(d){SYNO.Debug("exception: responseText:",c.responseText);g="Unknown exception"}}g=SYNO.JBase.Util.formErrinfoString(f,g,a,e)}if(g&&b){e=e||this;b.call(e,g)}return f},autoHideScroll:function(){var b=this.el.select(".x-grid3-scroller",this);var a=b.elements[0];if(a.clientWidth===a.offsetWidth){this.scrollOffset=2}else{this.scrollOffset=undefined}this.fitColumns(false)},doCallback:function(c,b,a){if(Ext.isObject(c)&&(b in c)){c[b].apply(c.scope||window,a)}},getUrlArg:(function(){var a=Ext.urlDecode(location.search.substr(1));return function(b){if(Ext.isString(b)&&b in a){return a[b]}else{return undefined}}})(),checkOSSupported:function(){var b=navigator.userAgent.toLowerCase();var a=function(c){return c.test(b)};if(Ext.isWindows||Ext.isLinux){return true}else{if(Ext.isMac){return a(/mac os x 10[._]6|mac os x 10[._]7/)}}return false},isPluginSupported:function(){var b=SYNO.JBase.Util.checkOSSupported();var a=SYNO.JBase.Util.getBrowserType();if(Ext.isWindows){return true}if(b&&("firefox"===a||"chrome"===a)){return true}return false},getBrowserType:function(){var a=undefined;if(Ext.isIE){a="ie"}else{if(Ext.isGecko){a="firefox"}else{if(Ext.isOpera){a="opera"}else{if(Ext.isSafari){a="safari"}else{if(Ext.isChrome){a="chrome"}}}}}return a},DisableUserSelection:function(){var a=function(d){if(d.getTarget(".selectabletext")){return true}var c=d.getTarget("input"),b=(c&&c.type)?c.type.toLowerCase():"";if("text"!==b&&"textarea"!==b&&"password"!==b){return false}if(c.readOnly){return false}return true};if(Ext.isIE||Ext.isOpera){Ext.getDoc().on("selectstart",function(b){if(!a(b)){b.stopEvent()}})}Ext.getDoc().on("keydown",function(b){if(b.ctrlKey&&b.A===b.getKey()&&!a(b)){b.stopEvent()}});Ext.getBody().on("contextmenu",function(b){if(!a(b)&&!b.getTarget(".allowDefCtxMenu")){b.stopEvent()}})}};SYNO.JBase.Util.getRadioGroup=function(c,b){var e=[];var d=c.el.query("input[name="+b+"]");for(var a=0;a<d.length;a++){e.push(Ext.getCmp(d[a].id))}return e};SYNO.JBase.Util.FieldFind=function(b,a){var c=b.findField(a);if(c==null){c=Ext.getCmp(a)}return c};SYNO.JBase.Util.EnableRadioGroup=Ext.extend(Object,{constructor:function(e,d,a){this.form=e;this.members=a;var g=SYNO.JBase.Util.getRadioGroup(e,d);for(var c=0;c<g.length;c++){var b=g[c];var f=b.el.dom.value;if(f in a){b.mon(b,"check",this.onRadioCheck,this);b.mon(b,"enable",this.onRadioEnable,this,{delay:50});b.mon(b,"disable",this.onRadioEnable,this,{delay:50})}}},onRadioEnable:function(c){var e=c.getRawValue();var a=this.members[e];var d=c.getValue();var b=d&&(!c.disabled);Ext.each(a,function(g){var h=SYNO.JBase.Util.FieldFind(this.form,g);h.setDisabled(!b)},this)},onRadioCheck:function(b,c){var d=b.getRawValue();var a=this.members[d];Ext.each(a,function(e){var g=SYNO.JBase.Util.FieldFind(this.form,e);g.setDisabled(!c)},this)}});Ext.override(Ext.form.BasicForm,{setValues:function(j){if(Ext.isArray(j)){for(var b=0,g=j.length;b<g;b++){var k=j[b];var e=this.findField(k.id);if(e){var d=[e];if("radio"===e.inputType){d=SYNO.JBase.Util.getRadioGroup(this,k.id)}e.setValue(k.value);Ext.each(d,function(f){if(this.trackResetOnLoad){f.originalValue=f.getValue()}},this)}}}else{var h,a;for(a in j){if(!Ext.isFunction(j[a])&&(h=this.findField(a))){var c=[h];if("radio"===h.inputType){c=SYNO.JBase.Util.getRadioGroup(this,a)}h.setValue(j[a]);Ext.each(c,function(f){if(this.trackResetOnLoad){f.originalValue=f.getValue()}},this)}}}return this}});SYNO.JBase.Util.Checkbox=Ext.extend(Ext.form.Checkbox,{activeCls:"",isMouseOn:false,boxEl:null,clsStates:{check:{normal:"check",active:"checkActive"},nocheck:{normal:"nocheck",active:"nocheckActive"}},initComponent:function(){SYNO.JBase.Util.Checkbox.superclass.initComponent.apply(this,arguments)},initEvents:function(){SYNO.JBase.Util.Checkbox.superclass.initEvents.call(this);this.boxEl=this.el.next();this.mon(this,{scope:this,check:this.onChecked});this.mon(this.container,{scope:this,mouseenter:this.mouseOn,mouseleave:this.mouseOut});this.updateStates()},mouseOn:function(){this.isMouseOn=true;this.updateStates()},mouseOut:function(){this.isMouseOn=false;this.updateStates()},onChecked:function(){this.updateStates()},updateStates:function(){if(this.boxEl==null){return}var a=this.clsStates[this.getValue()?"check":"nocheck"][this.isMouseOn?"active":"normal"];this.boxEl.removeClass(this.activeCls);this.boxEl.addClass(a);this.activeCls=a}});Ext.override(Ext.form.Radio,{setValue:function(a){if(typeof a=="boolean"){Ext.form.Radio.superclass.setValue.call(this,a)}else{if(this.rendered){var b=this.getCheckEl().select("input[name="+this.el.dom.name+"]");b.each(function(d){var c=Ext.getCmp(d.dom.id);c.setValue((a===d.dom.value));c.fireEvent("check",c,c.checked)},this)}}return this},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.value)}}});Ext.namespace("SYNO.Debug");SYNO.Debug=function(){var b=false;var e=Ext.emptyFn;var h=Ext;var d=Ext.emptyFn;function a(){var k="";for(var l=0;l<arguments.length;++l){k+=arguments[l]+" "}return k}function j(){try{e(a.apply(window,arguments))}catch(k){}}function f(l){try{e.call(h,a.apply(window,arguments))}catch(k){}}function g(){var k=Ext.urlDecode(location.search.substr(1)).jsDebug;b=true;if(!Ext.isDefined(k)){return}if(window.console){e=window.console.log;h=window.console}else{if(window.log){e=window.log;h=window}}if(Ext.isIE){d=j}else{d=f}}if(!b){g()}try{e.apply(h,arguments)}catch(c){d.apply(window,arguments)}};SYNO.Debug.opt=SYNO.JBase.Util.getUrlArg("jsDebug");Ext.namespace("SYNO.JBase");SYNO.JBase.Masker=Ext.extend(Ext.util.Observable,{interval:125,target:null,constructor:function(a){Ext.apply(this,a);SYNO.JBase.Masker.superclass.constructor.apply(this,arguments);this.count=0;this.is_running=false;this.index=0;if(!this.getEl()){throw Error()}},getEl:function(){return this.target||Ext.getBody()},mask:function(c,a){var b=null;if(this.count<=0){this.count=0;this.getEl().mask('<div class="mask_loading">&nbsp;</div>'+c);this.index=0;if(!this.is_running){this.is_running=true;this.moveMaskBackground.defer(this.interval,this)}}this.count++},unmask:function(){this.count--;if(this.count<=0){this.count=0;this.getEl().unmask()}},moveMaskBackground:function(){var b=Ext.Element.data(this.getEl().dom,"maskMsg");var a=-(this.index%8)*52;if(b){b=Ext.get(b.dom.firstChild.firstChild);if(b){b.applyStyles("background-position: 0 "+a+"px")}this.index+=1;this.moveMaskBackground.defer(this.interval,this)}else{this.is_running=false}}});Ext.namespace("SYNO.JBase");SYNO.JBase.BorderContainer=Ext.extend(Ext.Container,{borderCls:"bct",borderSize:12,borderContentEl:null,borderTpl:'<table class="{0}"><tr><td class="{0} {0}-tl"><i></i></td><td class="{0} {0}-tc"></td><td class="{0} {0}-tr"><i></i></td></tr><tr><td class="{0} {0}-ml"></td><td class="{0} {0}-mc"></td><td class="{0} {0}-mr"></td></tr><tr><td class="{0} {0}-bl"><i></i></td><td class="{0} {0}-bc"></td><td class="{0} {0}-br"><i></i></td></tr></table>',originAutoEl:undefined,style:{position:"absolute"},initComponent:function(){if(this.autoEl){this.originAutoEl=this.autoEl}return SYNO.JBase.BorderContainer.superclass.initComponent.apply(this,arguments)},onRender:function(c,a){var b=SYNO.JBase.BorderContainer.superclass.onRender.apply(this,arguments);var d=null,e=null,g=null,f=Ext.id();if(!this.el){return b}this.el.set({cellspacing:0});this.el.addClass("borderct");this.el.dom.innerHTML=String.format(this.borderTpl,this.borderCls);if(Ext.isString(this.originAutoEl)){d=document.createElement(this.originAutoEl)}else{g=document.createElement("div");Ext.DomHelper.overwrite(g,this.originAutoEl);d=g.firstChild}if(!d.id){d.id=f}if(d){d=Ext.get(d);if(this.allowDomMove!==false){this.el.child("td."+this.borderCls+"-mc",true).appendChild(d.dom);if(g){Ext.removeNode(g);g=null}}d.addClass("borderContent");this.borderContentEl=d}return b},getContentTarget:function(){return this.borderContentEl||this.el},getLayoutTarget:function(){return this.borderContentEl||this.el},setSize:function(a,c){var b=SYNO.JBase.BorderContainer.superclass.setSize.apply(this,arguments);if(Ext.isObject(this.borderSize)){a-=this.borderSize.left+this.borderSize.right;c-=this.borderSize.top+this.borderSize.bottom}else{if(Ext.isNumber(this.borderSize)){a-=this.borderSize*2;c-=this.borderSize*2}else{throw Error("SYNO.JBase.BorderContainer: invalid borderSize setting")}}this.borderContentEl.setSize(a,c);return b}});Ext.namespace("SYNO.JBase");SYNO.JBase.IconContainer=Ext.extend(Ext.Container,{showLogo:true,style:{position:"absolute"},initComponent:function(){var a=[{xtype:"box",cls:"iconct-title",itemId:"title",html:this.title||"&nbsp;"}];if(this.customIconCt){this.customIconCt.addClass("iconct-icon");a.push(this.customIconCt)}else{a.push({xtype:"container",cls:"iconct-icon",itemId:"iconct"});if(this.icon_img){a[1].items={xtype:"box",autoEl:{tag:"img",src:this.icon_img}}}}if(Ext.isObject(this.button)){a.push(Ext.apply({cls:"iconct-button",xtype:"button",itemId:"button",template:new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-ml"><i>&#160;</i></td>','<td class="x-btn-mc"><em class="{2}" unselectable="on">','<button type="{0}"></button></em></td>','<td class="x-btn-mr"><i>&#160;</i></td></tr>',"</tbody></table>")},this.button))}if(Ext.isObject(this.items)){a.push(this.items)}else{if(Ext.isArray(this.items)&&0<this.items.length){a=a.concat(this.items)}}Ext.apply(this,{width:this.width||800,height:this.height||400,layout:"anchor",items:a});SYNO.JBase.IconContainer.superclass.initComponent.apply(this,arguments);SYNO.JBase.View.prototype.getAssistantLogo()[this.showLogo?"show":"hide"]();this.addClass("iconct")},setTitle:function(a){this.getComponent("title").update(a)},setIcon:function(b){var a=this.getComponent("iconct");a.removeAll();a.add(new Ext.BoxComponent({xtype:"box",autoEl:{tag:"img",src:b}}));a.doLayout()},getButton:function(){return this.getComponent("button")}});Ext.namespace("SYNO.Assistant");SYNO.JBase.Wizard=Ext.extend(SYNO.JBase.BorderContainer,{lbar:undefined,rbar:undefined,hlPagingNode:undefined,borderSize:{top:140,bottom:89,left:48,right:48},stepStack:null,banner:true,initComponent:function(){this.stepStack=[];Ext.apply(this,{layout:"card",activeItem:0,items:this.configSteps(this.steps)});SYNO.JBase.Wizard.superclass.initComponent.apply(this,arguments);this.mon(this,"activate",this.onActivate,this);this.mon(this,"beforedetroy",this.onBeforedestory,this)},onRender:function(){var b=null;var a=null;this.borderTpl='<table class="{0}"><tr><td class="{0}-header" colspan="3"></td></tr><tr><td class="{0} {0}-ml" rowspan="2"></td><td class="{0} {0}-mc"></td><td class="{0} {0}-mr" rowspan="2"><i>&#160;</i></td></tr><tr><td class="{0} {0}-error"></td></tr><tr><td class="{0} {0}-footer" colspan="3" align="center"></td></tr></table>';this.borderTpl=String.format(this.borderTpl,this.borderCls);SYNO.JBase.Wizard.superclass.onRender.apply(this,arguments);b=this.el.child("td."+this.borderCls+"-header",false);b.update('<div class="wzct-headline"></div><div class="wzct-description"></div>');this.lbar=new Ext.Toolbar({renderTo:this.el.child("td.bct-ml"),cls:"wizard-lbar",items:this.configButtons([{itemId:"back",cls:"wzct-back",template:"",handler:function(){if(Ext.isFunction(this.getActiveStep().getBack)){this.goBack(this.getActiveStep().getBack())}else{this.goBack()}},scope:this}])});this.rbar=new Ext.Toolbar({renderTo:this.el.child("td.bct-mr"),cls:"wizard-rbar",items:this.configButtons(["->",{itemId:"next",cls:"wzct-next",template:"",handler:function(){this.goNext(this.getActiveStep().getNext())},scope:this}])});this.bbar=new Ext.BoxComponent({renderTo:this.el.child("td.bct-error"),cls:"wizard-errmsg"});a=new Ext.BoxComponent({renderTo:this.el.child("td.bct-footer"),style:{width:this.steps.length*15+"px"},cls:"wizard-allpages"});this.hlPagingNode=new Ext.BoxComponent({renderTo:Ext.getDom(a.getEl()),style:{width:this.steps.length*15+"px"},cls:"wizard-active-pnode"});this.foot=new Ext.Toolbar({renderTo:this.el.child("td.bct-footer"),cls:"wizard-footer",buttonAlign:"center",items:this.configButtons(this.buttons)});this.el.addClass("wizardct")},setFormError:function(d,a){var b=Ext.getDom(this.bbar.getEl()).style;var c=Ext.getDom(this.bbar.getEl());if(this.bbar.addCls){c.removeClassName(this.bbar.addCls);this.bbar.addCls=undefined}if(a){c.addClassName(a);this.bbar.addCls=a}if(d){this.bbar.update(d);Ext.getDom(this.bbar.getEl()).style.visibility="visible"}else{Ext.getDom(this.bbar.getEl()).style.visibility="hidden"}},setHeadline:function(b){var a=this.el.child("div.wzct-headline");if(a){a.update(b)}},setDescription:function(b){var a=this.el.child("div.wzct-description");if(a){a.update(b)}},configSteps:function(a){var b=0;if(!Ext.isArray(a)){throw Error("steps must be array")}for(b=0;b<a.length;b++){a[b].owner=this;Ext.applyIf(a[b],{nextId:b+1<a.length?b+1:null,getNext:SYNO.JBase.Wizard.Step.prototype.getNext,checkState:SYNO.JBase.Wizard.Step.prototype.checkState})}return a},getFooterToolbar:function(){return this.foot},getLeftToolbar:function(){return this.lbar},getRightToolbar:function(){return this.rbar},onActivate:function(){var a=this.getActiveStep();if(a&&Ext.isFunction(a.activate)){if(false===a.activate()){return}}this.syncView()},onBeforedestory:function(){var a=this.getActiveStep();if(a&&Ext.isFunction(a.deactivate)){if(false===a.deactivate()){return false}}return true},appendSteps:function(c){var b=this.getComponent("steps");var e,d,f,a=[];if(!Ext.isArray(c)){c=[c]}f=b.items.length+c.length;for(e=0,d=b.items.length;e<c.length;e++,d++){a.push(c[e].itemId||("append"+d));Ext.applyIf(c[e],{itemId:"append"+d,nextId:d+1<f?("append"+(d+1)):null,getNext:SYNO.Assistant.Wizard.Step.prototype.getNext,checkState:SYNO.Assistant.Wizard.Step.prototype.checkState});b.add(c[e])}b.doLayout();return a},getStep:function(a){return this.getComponent(a)},getActiveStep:function(){return this.layout.activeItem},setActiveStep:function(a){if(!this.getStep(a)){throw Error("step is not exist, id: "+a)}this.layout.setActiveItem(a);return true},configButtons:function(a){var b=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-ml"><i>&#160;</i></td>','<td class="x-btn-mc"><em class="{2}" unselectable="on">','<button type="{0}"></button></em></td>','<td class="x-btn-mr"><i>&#160;</i></td></tr>',"</tbody></table>");if(Ext.isArray(a)){Ext.each(a,function(c){if(!c.template){c.template=b}})}return a||[{itemId:"commit",text:"Commit",cls:"wzct-button",template:b,handler:function(){if(Ext.isFunction(this.getActiveStep().onCommit)){this.getActiveStep().onCommit()}else{this.goNext(this.getActiveStep().getNext())}},scope:this}]},getButton:function(a){return this.getLeftToolbar().getComponent(a)||this.getRightToolbar().getComponent(a)||this.getFooterToolbar().getComponent(a)},goNext:function(a,d){var c=null;var b=undefined;if(a===false){return false}if(a===null){this.onLastStep();return true}c=this.getActiveStep();b=c.getItemId();if(Ext.isFunction(c.deactivate)){if(false===c.deactivate()){return false}}if(false===this.setActiveStep(a)){return false}if(false!==d){this.stepStack.push(b)}c=this.getActiveStep();if(Ext.isFunction(c.activate)){if(false===c.activate()){return false}}this.setFormError();this.syncView();return true},goBack:function(b){var c=null;var a=undefined;if(b===false||!this.hasHistory()){return false}if(Ext.isDefined(b)&&!this.inHistory(b)){return false}c=this.getActiveStep();if(Ext.isFunction(c.deactivate)){if(false===c.deactivate()){return false}}a=this.stepStack.pop();if(!Ext.isDefined(b)){b=a}if(false===this.setActiveStep(b)){this.stepStack.push(a);return false}while(a!==b){a=this.stepStack.pop()}c=this.getActiveStep();if(Ext.isFunction(c.activate)){if(false===c.activate()){return false}}this.setFormError();this.syncView();return true},inHistory:function(b){for(var a=this.stepStack.length-1;a>=0;a--){if(this.stepStack[a]===b){return true}}return false},hasHistory:function(){return this.stepStack.length>0},syncView:function(){var b=this.getActiveStep();var a;if(!b){return}a=this.steps.indexOf(b);if(-1===a){return}this.hlPagingNode.getEl().setStyle("background-position",a*15+"px -30px");if(Ext.isDefined(b.commitBtnText)){this.getButton("commit").setText(b.commitBtnText);this.getButton("next").getEl().hide();this.getButton("commit").getEl().show();this.getButton("commit").enable()}else{this.getButton("next").getEl().show();this.getButton("commit").getEl().hide()}if(Ext.isFunction(b.checkState)){b.checkState()}if(this.banner){this.setHeadline(b.headline||"");this.setDescription(b.description||"")}},onLastStep:function(){SYNO.Debug("last step")}});SYNO.JBase.Wizard.Step=Ext.extend(Ext.BoxComponent,{getNext:function(){return this.nextId?this.nextId:null},checkState:function(){if(this.owner.hasHistory()){this.owner.getButton("back").getEl().show()}else{this.owner.getButton("back").getEl().hide()}this.owner.getButton("next").enable();this.owner.getButton("back").enable()}});SYNO.JBase.Wizard.FormPanelStep=Ext.extend(Ext.form.FormPanel,{fieldErrors:{},initComponent:function(){this.fieldErrors={};SYNO.JBase.Wizard.FormPanelStep.superclass.initComponent.apply(this,arguments)},getActiveError:function(){for(i in this.fieldErrors){return this.fieldErrors[i]}return null},setError:function(b,a){this.fieldErrors[b]=a;this.owner.setFormError(this.getActiveError())},clearError:function(a){if(this.fieldErrors[a]){delete this.fieldErrors[a]}this.owner.setFormError(this.getActiveError())}});Ext.namespace("SYNO.JBase");SYNO.JBase.View=Ext.extend(Ext.Container,{CONNECT_TIME_OUT:15000,renderTo:"view_container",masker:null,createLayout:function(){var a=this;return new Ext.layout.CardLayout({onLayout:Ext.layout.AutoLayout.prototype.onLayout,setActiveItem:function(b){var c=this.activeItem;Ext.layout.CardLayout.prototype.setActiveItem.apply(this,arguments);a.onActiveItemChange(this.activeItem,c)}})},initComponent:function(){Ext.apply(this,{style:{position:"relative"},layout:this.createLayout()});SYNO.JBase.View.superclass.initComponent.apply(this,arguments);Ext.EventManager.onWindowResize(this.onWindowResize,this);this.syncLayout();this.masker=new SYNO.JBase.Masker();this.pages={}},getAssistantLogo:function(){return Ext.get("webassistant_logo")},getSynologyLogo:function(){return Ext.get("synology_logo")},getActiveItem:function(){return this.layout.activeItem},onActiveItemChange:function(b,a){this.getAssistantLogo()[b.showLogo?"show":"hide"]()},onWindowResize:function(b,d){var c=Ext.get("view_container");var a=Ext.getBody();var f=Ext.Element.data(a.dom,"maskMsg");var e=this.getActiveItem();if(f){f.center(a)}if(e){e.el.alignTo(c,"c-c",[0,15])}},syncLayout:function(){var a=Ext.lib.Dom.getDocumentWidth();var b=Ext.lib.Dom.getDocumentHeight();this.onWindowResize(a,b)},mask:function(){this.masker.mask.apply(this.masker,arguments)},unmask:function(){this.masker.unmask.apply(this.masker,arguments)},launch:function(b,c,d){var e=null,a=d||this.allPages[b];SYNO.Debug("all pages: ",this.allPages);SYNO.Debug("view.launch(",b," == ",a,c?"(background))":")");if(this.onLaunch){this.onLaunch(b)}e=this.getComponent(b);if(e){if(!c){this.layout.setActiveItem(e)}this.syncLayout();return e}if(!a){return null}this.add(e=new a({itemId:b}));this.mon(e,"afterlayout",this.syncLayout,this,{single:true});if(Ext.isDefined(SYNO.Debug.opt)){this.pages[b]=e}if(!c){this.layout.setActiveItem(b)}this.syncLayout();return e},detach:function(a){SYNO.Debug("view.detach(",a,")");this.remove(a,true);if(Ext.isDefined(SYNO.Debug.opt)){delete this.pages[a]}}});