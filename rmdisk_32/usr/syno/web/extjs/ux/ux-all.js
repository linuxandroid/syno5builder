/* Copyright (c) 2011 Synology Inc. All rights reserved. */

Ext.ns("Ext.ux.grid");Ext.ux.grid.CellActions=function(a){Ext.apply(this,a);this.addEvents("action","beforeaction");Ext.ux.grid.CellActions.superclass.constructor.call(this)};Ext.extend(Ext.ux.grid.CellActions,Ext.util.Observable,{actionEvent:"click",actionWidth:20,tpl:'<div class="ux-cell-value" style="padding-left:{padding}px"><tpl if="\'left\'!==align">{value}</tpl><div class="ux-cell-actions<tpl if="\'left\'===align"> ux-cell-actions-left</tpl>" style="width:{width}px"><tpl for="actions"><div class="ux-cell-action {cls}" qtip="{qtip}" style="{style}">&#160;</div></tpl></div><tpl if="\'left\'===align">{value}</tpl></div>',userProcessing:Ext.emptyFn,init:function(b){this.grid=b;b.afterRender=b.afterRender.createSequence(this.onRenderGrid,this);var a=this.grid.getColumnModel();Ext.each(a.config,function(e,d){if("object"===typeof e.cellActions){e.origRenderer=a.getRenderer(d);e.renderer=this.renderActions.createDelegate(this)}},this)},onRenderGrid:function(){this.view=this.grid.getView();var a={scope:this};a[this.actionEvent]=this.onClick;this.view.mainBody.on(a)},getData:function(e,a,b,f,d,c){return b.data||{}},renderActions:function(g,i,e,j,b,h){var f=this.grid.getColumnModel().config[b];var a=f.origRenderer(g,i,e,j,b,h);if(f.cellActions&&!f.actionsTpl){f.actionsTpl=this.processActions(f);f.actionsTpl.compile()}else{if(!f.cellActions){return a}}var d=this.getData.apply(this,arguments);d.value=a;return f.actionsTpl.apply(d)},processActions:function(d){this.callbacks=this.callbacks||{};var b={align:this.align||"right",width:this.actionWidth*d.cellActions.length,padding:"left"===this.align?this.actionWidth*d.cellActions.length:0,value:"{value}",actions:[]};Ext.each(d.cellActions,function(c,e){if(c.iconCls&&"function"===typeof(c.callback||c.cb)){this.callbacks[c.iconCls]=c.callback||c.cb}var f={cls:c.iconIndex?"{"+c.iconIndex+"}":(c.iconCls?c.iconCls:""),qtip:c.qtipIndex?"{"+c.qtipIndex+"}":(c.tooltip||c.qtip?c.tooltip||c.qtip:""),style:c.style?c.style:""};b.actions.push(f)},this);this.userProcessing(d,b);var a=new Ext.XTemplate(this.tpl);return new Ext.Template(a.apply(b))},onClick:function(f,g){var k=f.getTarget("div.ux-cell-action");var l=f.getTarget(".x-grid3-row");var a=this.view.findCellIndex(g.parentNode.parentNode);var h=this.grid.getColumnModel().config[a];var d,i,j,b;if(k){d=this.grid.store.getAt(l.rowIndex);i=h.dataIndex;j=d.get(i);b=k.className.replace(/ux-cell-action /,"")}if(false!==l&&false!==a&&d&&i&&b){if(this.callbacks&&"function"===typeof this.callbacks[b]){this.callbacks[b](this.grid,d,b,j,i,l.rowIndex,a)}if(true!==this.eventsSuspended&&false===this.fireEvent("beforeaction",this.grid,d,b,j,i,l.rowIndex,a)){return}else{if(true!==this.eventsSuspended){this.fireEvent("action",this.grid,d,b,j,i,l.rowIndex,a)}}}}});Ext.reg("cellactions",Ext.ux.grid.CellActions);
/*
 * Ext JS Library 3.2.1
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.DataView.LabelEditor=Ext.extend(Ext.Editor,{alignment:"tl-tl",hideEl:false,cls:"x-small-editor",shim:false,completeOnEnter:true,cancelOnEsc:true,labelSelector:"span.x-editable",constructor:function(a,b){Ext.DataView.LabelEditor.superclass.constructor.call(this,b||new Ext.form.TextField({allowBlank:false,growMin:90,growMax:240,grow:true,selectOnFocus:true}),a)},init:function(a){this.view=a;a.on("render",this.initEditor,this);this.on("complete",this.onSave,this)},initEditor:function(){this.view.on({scope:this,containerclick:this.doBlur,click:this.doBlur});this.view.getEl().on("mousedown",this.onMouseDown,this,{delegate:this.labelSelector})},doBlur:function(){if(this.editing){this.field.blur()}},onMouseDown:function(d,c){if(!d.ctrlKey&&!d.shiftKey){var b=this.view.findItemFromChild(c);d.stopEvent();var a=this.view.store.getAt(this.view.indexOf(b));this.startEdit(c,a.data[this.dataIndex]);this.activeRecord=a}else{d.preventDefault()}},onSave:function(a,b){this.activeRecord.set(this.dataIndex,b)}});Ext.DataView.DragSelector=function(f){f=f||{};var i,h,k;var d,j,l=new Ext.lib.Region(0,0,0,0);var b=f.dragSafe===true;this.init=function(p){i=p;i.on("render",o)};function m(){d=[];i.all.each(function(p){d[d.length]=p.getRegion()});j=i.el.getRegion()}function e(){return false}function g(p){return !b||p.target==i.el.dom}function n(p){i.on("containerclick",e,i,{single:true});if(!h){h=i.el.createChild({cls:"x-view-selector"})}else{if(h.dom.parentNode!==i.el.dom){i.el.dom.appendChild(h.dom)}h.setDisplayed("block")}m();i.clearSelections()}function c(z){var A=k.startXY;var E=k.getXY();var C=Math.min(A[0],E[0]);var B=Math.min(A[1],E[1]);var D=Math.abs(A[0]-E[0]);var t=Math.abs(A[1]-E[1]);l.left=C;l.top=B;l.right=C+D;l.bottom=B+t;l.constrainTo(j);h.setRegion(l);for(var s=0,u=d.length;s<u;s++){var p=d[s],q=l.intersect(p);if(q&&!p.selected){p.selected=true;i.select(s,true)}else{if(!q&&p.selected){p.selected=false;i.deselect(s)}}}}function a(p){if(!Ext.isIE){i.un("containerclick",e,i)}if(h){h.setDisplayed(false)}}function o(p){k=new Ext.dd.DragTracker({onBeforeStart:g,onStart:n,onDrag:c,onEnd:a});k.initEl(p.el)}};
/*
 * Ext JS Library 3.2.0
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.ux.StatusBar=Ext.extend(Ext.Toolbar,{cls:"x-statusbar",busyIconCls:"x-status-busy",busyText:"Loading...",autoClear:5000,emptyText:"&nbsp;",activeThreadId:0,initComponent:function(){if(this.statusAlign=="right"){this.cls+=" x-status-right"}Ext.ux.StatusBar.superclass.initComponent.call(this)},afterRender:function(){Ext.ux.StatusBar.superclass.afterRender.call(this);var a=this.statusAlign=="right";this.currIconCls=this.iconCls||this.defaultIconCls;this.statusEl=new Ext.Toolbar.TextItem({cls:"x-status-text "+(this.currIconCls||""),text:this.text||this.defaultText||""});if(a){this.add("->");this.add(this.statusEl)}else{this.insert(0,this.statusEl);this.insert(1,"->")}this.doLayout()},setStatus:function(d){d=d||{};if(typeof d=="string"){d={text:d}}if(d.text!==undefined){this.setText(d.text)}if(d.iconCls!==undefined){this.setIcon(d.iconCls)}if(d.clear){var e=d.clear,b=this.autoClear,a={useDefaults:true,anim:true};if(typeof e=="object"){e=Ext.applyIf(e,a);if(e.wait){b=e.wait}}else{if(typeof e=="number"){b=e;e=a}else{if(typeof e=="boolean"){e=a}}}e.threadId=this.activeThreadId;this.clearStatus.defer(b,this,[e])}return this},clearStatus:function(c){if(this.isDestroyed){return}c=c||{};if(c.threadId&&c.threadId!==this.activeThreadId){return this}var b=c.useDefaults?this.defaultText:this.emptyText,a=c.useDefaults?(this.defaultIconCls?this.defaultIconCls:""):"";if(c.anim){this.statusEl.el.fadeOut({remove:false,useDisplay:true,scope:this,callback:function(){if(this.isDestroyed){return}this.setStatus({text:b,iconCls:a});this.statusEl.el.show()}})}else{this.statusEl.hide();this.setStatus({text:b,iconCls:a});this.statusEl.show()}return this},setText:function(a){this.activeThreadId++;this.text=a||"";if(this.rendered){this.statusEl.setText(this.text)}return this},getText:function(){return this.text},setIcon:function(a){this.activeThreadId++;a=a||"";if(this.rendered){if(this.currIconCls){this.statusEl.removeClass(this.currIconCls);this.currIconCls=null}if(a.length>0){this.statusEl.addClass(a);this.currIconCls=a}}else{this.currIconCls=a}return this},showBusy:function(a){if(typeof a=="string"){a={text:a}}a=Ext.applyIf(a||{},{text:this.busyText,iconCls:this.busyIconCls});return this.setStatus(a)}});Ext.reg("statusbar",Ext.ux.StatusBar);Ext.ns("SYNO");SYNO.CellActions=Ext.extend(Ext.ux.grid.CellActions,{overClass:"ux-cell-action-over",clickClass:"ux-cell-action-click",onRenderGrid:function(){SYNO.CellActions.superclass.onRenderGrid.apply(this,arguments);this.grid.mon(this.view.mainBody,"mouseover",this.onMouseOver,this);this.grid.on("destroy",this.destroy,this,{single:true})},getTargetEl:function(a){return a.getTarget("div.ux-cell-action")},onMouseOver:function(c){var a=this.getTargetEl(c);if(a&&a!==this.lastItem){this.lastItem=a;var b=Ext.get(a);b.addClass(this.overClass);b.on("mouseout",this.onMouseOut,this)}},onMouseOut:function(a){if(this.lastItem){if(!a.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);delete this.lastItem}}},onClick:function(b){var a=this.getTargetEl(b);if(a){Ext.fly(a).addClass(this.clickClass);Ext.getDoc().on("mouseup",this.onMouseUp,this);SYNO.CellActions.superclass.onClick.apply(this,arguments)}},onMouseUp:function(b){var a=this.getTargetEl(b);if(a){Ext.fly(a).removeClass(this.clickClass);Ext.getDoc().un("mouseup",this.onMouseUp,this)}},destroy:function(){Ext.getDoc().un("mouseup",this.onMouseUp,this);this.purgeListeners()}});Ext.namespace("SYNO");SYNO.ColorField=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"10",maxlength:"7",autocomplete:"off"},allowBlank:false,maskRe:/[#a-f0-9]/i,menu:null,constructor:function(a){SYNO.ColorField.superclass.constructor.apply(this,arguments);this.menu=new Ext.menu.ColorMenu();this.mon(this.menu.palette,"select",this.onColorSelect,this);this.addManagedComponent(this.menu)},validateBlur:function(){return !this.menu||!this.menu.isVisible()},validator:function(b){var a=/^#[a-f0-9]{3}([a-f0-9]{3})?$/i;return b&&b.match(a)?true:""},onTriggerClick:function(){if(this.disabled){return}this.menu.show(this.el,"tl-bl?")},onColorSelect:function(a,b){this.setValue("#"+b)}});Ext.reg("colorfield",SYNO.ColorField);Ext.namespace("SYNO");SYNO.EnableColumn=Ext.extend(Ext.grid.Column,{commitChanges:false,bindRowClick:false,enableFastSelectAll:false,disableSelectAll:false,constructor:function(b){var a='<input id="{0}" type="checkbox" style="height:10px;vertical-align:middle">&nbsp;{1}';this.box_id=Ext.id();if(!b.disableSelectAll){b.header=String.format(a,this.box_id,b.header||"")}SYNO.EnableColumn.superclass.constructor.call(this,b)},init:function(a){if(!Ext.isDefined(this.dataIndex)||!Ext.isDefined(this.id)){throw Error("you should set dataIndex and id for EnableColumn")}a.mon(a,"cellclick",function(c,e,b,d){if(c.getColumnModel().getColumnId(b)===this.id||this.bindRowClick){this.onCellClick(c,e,d)}},this);a.mon(a,"headerclick",function(d,c,b){var e;if(d.getColumnModel().getColumnId(c)===this.id||this.bindRowClick){e=b.getTarget("input",1,true);if(e){this.onSelectAll()}}},this);a.mon(a,"afterrender",function(b){this.box_el=Ext.get(this.box_id);b.mon(b.getStore(),"add",this.checkSelectAll,this);b.mon(b.getStore(),"remove",this.checkSelectAll,this);b.mon(b.getStore(),"load",this.checkSelectAll,this);b.mon(b.getColumnModel(),"columnmoved",this.onColumnMoved,this);b.mon(b.getColumnModel(),"headerchange",this.onHeaderChange,this);this.checkSelectAll(b.getStore())},this,{single:true});this.getGrid=function(){return a}},isIgnore:function(b,a){return false},toggleRec:function(b){var a=b.get(this.dataIndex);if("gray"===a){a=false}b.set(this.dataIndex,!a)},onColumnMoved:function(){this.box_el=Ext.get(this.box_id);this.checkSelectAll(this.getGrid().getStore())},onHeaderChange:function(){this.box_el=Ext.get(this.box_id);this.checkSelectAll(this.getGrid().getStore())},onSelectAll:function(){var d,b,e,c,a;if(!this.box_el||!this.box_el.dom){return}d=this.getGrid().getStore();a=!!(this.box_el.dom.checked);if(this.enableFastSelectAll){d.suspendEvents()}for(b=0,c=d.getCount();b<c;b++){e=d.getAt(b).get(this.dataIndex);if(("gray"!==e&&!!(e)===a)||this.isIgnore("all",d.getAt(b))){continue}this.toggleRec(d.getAt(b))}if(this.enableFastSelectAll){this.getGrid().getView().refresh();d.resumeEvents()}if(this.commitChanges){d.commitChanges()}this.checkSelectAll(d)},onCellClick:function(a,d,b){var c=a.getStore();if(this.isIgnore("cell",c.getAt(d))){return}c=a.getStore();this.toggleRec(c.getAt(d));if(this.commitChanges){c.commitChanges()}this.checkSelectAll(c)},checkSelectAll:function(d){var a,e,c=d.getCount();var b=(c>0);if(!this.box_el||!this.box_el.dom){return}for(a=0;a<c;a++){if(this.isIgnore("check",d.getAt(a))){continue}e=d.getAt(a).get(this.dataIndex);if("gray"===e||!e){b=false;break}}this.box_el.dom.checked=b},renderer:function(c,b,a){return String.format('<div class="syno-grid-enable-column-{0}">&nbsp;</div>',("gray"===c?"grayed":c?"checked":"unchecked"))}});Ext.namespace("SYNO.LayoutConfig");Ext.apply(SYNO.LayoutConfig,{FIXED_INDENT_WIDTH:19,DEFAULT_FIELD_WIDTH:250,DEFAULT_LABEL_WIDTH:180});SYNO.LayoutConfig.calcLabelStyle=function(c){var f=SYNO.LayoutConfig;var a=c.indent||0;var b=a*f.FIXED_INDENT_WIDTH;var e=c.width||f.DEFAULT_LABEL_WIDTH;var d=String.format("margin-left: {0}px; width: {1}px;",b,e-b);return d};SYNO.LayoutConfig.calcFieldStyle=function(c){var e=SYNO.LayoutConfig;var a=c.indent||0;var b=a*e.FIXED_INDENT_WIDTH;var d=String.format("margin-left: {0}px;",b);return d};Ext.apply(SYNO.LayoutConfig,{fillWidth:function(a,b){if(!b.width&&a.synodefaults&&a.synodefaults.width){b.width=a.synodefaults.width}return b},fillHiddenNameId:function(a,b){if(b.name){b.hiddenName=b.name;b.hiddenId=Ext.id()}return b},fillItemId:function(a,b){if(b.name){b.itemId=b.name}return b},fillTextMaxLen:function(a,b){if(b.maxlength){b.autoCreate={tag:"input",type:"text",maxlength:b.maxlength}}return b},fillPasswordMaxLen:function(a,b){if(b.maxlength){b.autoCreate={tag:"input",type:"password",maxlength:b.maxlength}}return b},fillLabelStyle:function(a,b){b.labelStyle=SYNO.LayoutConfig.calcLabelStyle({width:b.labelWidth||a.labelWidth,indent:b.indent});return b},fillFieldStyle:function(a,b){b.style=SYNO.LayoutConfig.calcFieldStyle({indent:b.indent});return b},fillPasswordConfirmValidator:function(a,b){if(b.confirmFor&&!b.validator){b.validator=function(e){if(!this.ownerCt){return"Failed to find ownerCt"}var c=this.ownerCt.get(this.confirmFor);var d=c.getValue();if((e!==d)&&(d!=="12345678"||e!=="87654321")){return _JSLIBSTR("vtype","password_confirm_failed")}return true}}return b}});Ext.ns("SYNO.LayoutConfig.Types");Ext.ns("SYNO.LayoutConfig.Defaults");SYNO.LayoutConfig.Defaults.combo={xtype:"combo",triggerAction:"all",editable:false,mode:"local"};SYNO.LayoutConfig.Types.combo=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.combo);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillHiddenNameId(a,b);SYNO.LayoutConfig.fillTextMaxLen(a,b);SYNO.LayoutConfig.fillLabelStyle(a,b);return b};SYNO.LayoutConfig.Defaults.desc={xtype:"displayfield",hideLabel:true};SYNO.LayoutConfig.Types.desc=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.desc);SYNO.LayoutConfig.fillFieldStyle(a,b);return b};SYNO.LayoutConfig.Defaults.check={xtype:"checkbox",hideLabel:true};SYNO.LayoutConfig.Types.check=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.check);SYNO.LayoutConfig.fillFieldStyle(a,b);return b};SYNO.LayoutConfig.Defaults.radio={xtype:"radio",hideLabel:true};SYNO.LayoutConfig.Types.radio=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.radio);SYNO.LayoutConfig.fillFieldStyle(a,b);return b};SYNO.LayoutConfig.Defaults.text={xtype:"textfield",msgTarget:"qtip",validateOnBlur:true,validationEvent:"blur"};SYNO.LayoutConfig.Types.text=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.text);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillTextMaxLen(a,b);SYNO.LayoutConfig.fillLabelStyle(a,b);return b};SYNO.LayoutConfig.Defaults.password={xtype:"textfield",inputType:"password",msgTarget:"qtip",validateOnBlur:true,validationEvent:"blur"};SYNO.LayoutConfig.Types.password=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.password);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillItemId(a,b);SYNO.LayoutConfig.fillPasswordMaxLen(a,b);SYNO.LayoutConfig.fillLabelStyle(a,b);return b};SYNO.LayoutConfig.Defaults.password_confirm={xtype:"textfield",inputType:"password",msgTarget:"qtip",validateOnBlur:true,validationEvent:"blur"};SYNO.LayoutConfig.Types.password_confirm=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.password_confirm);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillItemId(a,b);SYNO.LayoutConfig.fillPasswordMaxLen(a,b);SYNO.LayoutConfig.fillLabelStyle(a,b);SYNO.LayoutConfig.fillPasswordConfirmValidator(a,b);return b};SYNO.LayoutConfig.Defaults.number={xtype:"numberfield",msgTarget:"qtip",validateOnBlur:true,validationEvent:"blur",allowDecimals:false,allowNegative:false,allowBlank:false};SYNO.LayoutConfig.Types.number=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.number);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillTextMaxLen(a,b);SYNO.LayoutConfig.fillLabelStyle(a,b);return b};SYNO.LayoutConfig.Defaults.indent={};SYNO.LayoutConfig.Types.indent=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.indent);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillLabelStyle(a,b);return b};SYNO.LayoutConfig.Defaults.indent_no_label={hideLabel:true};SYNO.LayoutConfig.Types.indent_no_label=function(a,b){Ext.applyIf(b,SYNO.LayoutConfig.Defaults.indent_no_label);SYNO.LayoutConfig.fillWidth(a,b);SYNO.LayoutConfig.fillFieldStyle(a,b);return b};SYNO.LayoutConfig.fill=function(a){var b=SYNO.LayoutConfig;return b.fillForm(a)};SYNO.LayoutConfig.fillFormField=function(a,c){if(!c){return arguments.callee({},a)}var b=c.synotype;Ext.each(c.items||[],function(f,d,e){SYNO.LayoutConfig.fillFormField(c,f)});if(b&&SYNO.LayoutConfig.Types[b]){SYNO.LayoutConfig.Types[b](a,c)}return c};SYNO.LayoutConfig.fillForm=function(a){return SYNO.LayoutConfig.fillFormField(a)};Ext.namespace("SYNO");SYNO.TextFilter=Ext.extend(Ext.form.TriggerField,{ctCls:"syno-textfilter",cls:"syno-textfilter-text",triggerConfig:{tag:"div",cls:"x-form-trigger syno-textfilter-trigger"},enableKeyEvents:true,listeners:{keyup:{fn:function(b,a){b.trigger.setVisible((b.getValue()!==""))}},render:{fn:function(a){a.trigger.hide()}}},queryDelay:500,queryAction:"find",enumAction:"enum",queryParam:"query",localFilter:false,localFilterField:"",pageSize:20,constructor:function(a){SYNO.TextFilter.superclass.constructor.call(this,a);if(this.store&&!this.localFilter){this.mon(this.store,"beforeload",this.onBeforeLoad,this)}if(this.localFilter===true){this.mon(this.store,"load",this.reset,this)}},initEvents:function(){SYNO.TextFilter.superclass.initEvents.call(this);this.mon(this.el,"keyup",this.filter,this,{buffer:this.queryDelay})},setPageSize:function(a){this.pageSize=a},onBeforeLoad:function(a,b){var c=this.getValue();if(c){b.params[this.queryParam]=c;b.params.action=this.queryAction}else{b.params.action=this.enumAction}return true},filter:function(){var b=this.getValue();var a;if(!this.store){return}if(this.localFilter===true){if(b){this.store.filter(this.localFilterField,b,true)}else{this.store.clearFilter(false)}return}a={start:0,limit:this.pageSize};if(b){a.action=this.queryAction;a[this.queryParam]=b;this.store.load({params:a})}else{a.action=this.enumAction;this.store.load({params:a})}},reset:function(){SYNO.TextFilter.superclass.reset.call(this);if(this.localFilterField===false&&this.store){this.store.clearFilter(false)}},onTriggerClick:function(){if(this.getValue()){this.setValue("");this.trigger.hide();this.filter()}}});Ext.ns("SYNO");SYNO.TriCheckbox=function(a){SYNO.TriCheckbox.superclass.constructor.call(this,a)};Ext.extend(SYNO.TriCheckbox,Ext.form.Checkbox,{checkboxCls:"x-checkbox",triMode:true,values:[null,false,true],checkedCls:["x-checkbox-grayed",null,"x-checkbox-checked"],overClass:"x-checkbox-over",clickClass:"x-checkbox-down",defaultAutoCreate:{tag:"input",type:"hidden",autocomplete:"off"},onRender:function(b,a){Ext.form.Checkbox.superclass.onRender.call(this,b,a);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}if(this.clickClass&&!this.disabled&&!this.readOnly){this.wrap.addClassOnClick(this.clickClass)}if(this.overClass&&!this.disabled&&!this.readOnly){this.wrap.addClassOnOver(this.overClass)}this.checkbox=this.wrap.createChild({tag:"img",src:Ext.BLANK_IMAGE_URL,cls:this.checkboxCls},this.el);if(Ext.isIE){this.wrap.repaint()}this.resizeEl=this.positionEl=this.wrap},initValue:function(){if((typeof this.value=="object"&&this.value===null)||this.value===true){this.setValue(this.value)}else{this.setValue(false)}this.originalValue=this.getValue();if(this.overCls!==undefined){this.overClass=this.overCls;delete this.overCls}},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel&&this.checkbox){this.checkbox.alignTo(this.wrap,"c-c")}},afterRender:function(){Ext.form.Checkbox.superclass.afterRender.call(this)},getCheckIndex:function(){for(var a=0;a<this.values.length;a++){if(this.value===this.values[a]){if(!this.triMode&&a===0){return(a+1)}return a}}return 0},updateCheckCls:function(){if(!this.wrap){return}var a=this.checkedCls[this.getCheckIndex()];this.wrap.replaceClass(this._checkCls,a);this._checkCls=a},getValue:function(){return Ext.form.Checkbox.superclass.getValue.call(this)},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.wrap,{scope:this,click:this.onClick})},onClick:function(){if(!this.disabled&&!this.readOnly){this.setValue(this.values[(this.getCheckIndex()+1)%this.values.length])}},setValue:function(a){Ext.form.Checkbox.superclass.setValue.call(this,a);this.updateCheckCls();this.fireEvent("check",this,this.value);if(this.handler){this.handler.call(this.scope||this,this,this.value)}return this},setTriMode:function(a){this.triMode=a}});Ext.reg("tricheckbox",SYNO.TriCheckbox);Ext.tree.TriTreeNodeUI=function(){Ext.tree.TriTreeNodeUI.superclass.constructor.apply(this,arguments)};Ext.tree.TriTreeNodeUI.CHECKSTATE=2;Ext.tree.TriTreeNodeUI.UNCHECKSTATE=1;Ext.tree.TriTreeNodeUI.GRAYSTATE=0;Ext.extend(Ext.tree.TriTreeNodeUI,Ext.tree.TreeNodeUI,{values:[null,false,true],checkedCls:["x-checkbox-grayed",null,"x-checkbox-checked"],checkboxCls:"x-checkbox",expanded:false,err:-1,initEvents:function(){Ext.tree.TriTreeNodeUI.superclass.initEvents.apply(this,arguments);if(this.checkbox){Ext.EventManager.on(this.checkbox,"click",this.toggleCheck,this)}},destroy:function(){if(this.checkbox){Ext.EventManager.un(this.checkbox,"click",this.toggleCheck,this)}Ext.tree.TriTreeNodeUI.superclass.destroy.apply(this,arguments)},getCheckIndex:function(b){for(var a=0;a<this.values.length;a++){if(b.getUI().checkbox.checked===this.values[a]){return a}}return this.err},clearCheck:function(){if(true===this.node.disabled){return}this.onCheckChange(Ext.tree.TriTreeNodeUI.UNCHECKSTATE)},onCheckChange:function(a){this.checkbox.checked=this.values[a];this.checkbox.className=this.checkedCls[a];if(this.node.firstChild){this.updateChild(this.node.firstChild,a)}if(this.node.parentNode!=this.root){this.updateParent(this.node.parentNode,a)}var b=this.checkbox.checked;this.node.attributes.checked=b;this.fireEvent("checkchange",this.node,b)},toggleCheck:function(){if(true===this.node.disabled){return}var a=this.getCheckIndex(this.node);a=(a===Ext.tree.TriTreeNodeUI.UNCHECKSTATE)?Ext.tree.TriTreeNodeUI.CHECKSTATE:Ext.tree.TriTreeNodeUI.UNCHECKSTATE;this.onCheckChange(a)},updateChild:function(b,a){var c=b;do{if(c.disabled){c=c.nextSibling;continue}c.getUI().checkbox.checked=this.values[a];c.getUI().checkbox.className=this.checkedCls[a];if(c.firstChild){this.updateChild(c.firstChild,a)}c=c.nextSibling}while(c)},updateParent:function(d,a){var c=this.getCheckIndex(d);if(a!=c){var b=this.checkchildstate(d);d.getUI().checkbox.checked=this.values[b];d.getUI().checkbox.className=this.checkedCls[b];if(d.parentNode!=this.root){this.updateParent(d.parentNode,b)}}},checkchildstate:function(c){var b=c.firstChild;var a;if(!b){return this.err}while(b){if(Ext.tree.TriTreeNodeUI.UNCHECKSTATE!==this.getCheckIndex(b)){return Ext.tree.TriTreeNodeUI.GRAYSTATE}b=b.nextSibling}return Ext.tree.TriTreeNodeUI.UNCHECKSTATE},renderElements:function(i,c,h,b){this.indentMarkup=i.parentNode?i.parentNode.ui.getChildIndent():"";var g,d=c.href?c.href:Ext.isGecko?"":"#",e=['<li class="x-tree-node"><div ext:tree-node-id="',Ext.util.Format.htmlEncode(i.id),'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',c.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img alt="" src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img alt="" src="',c.icon||this.emptyIcon,'" class="x-tree-node-icon',(c.icon?" x-tree-node-inline-icon":""),(c.iconCls?" "+c.iconCls:""),'" unselectable="on" />','<span><img alt="" src="'+this.emptyIcon+'" style="margin:0 2px 0 2px;" class="x-checkbox" /></span>','<a hidefocus="on" class="x-tree-node-anchor" href="',d,'" tabIndex="1" ',c.hrefTarget?' target="'+c.hrefTarget+'"':"",'><span unselectable="on">',i.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");if(b!==true&&i.nextSibling&&(g=i.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",g,e)}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",h,e)}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var f=this.elNode.childNodes;this.indentNode=f[0];this.ecNode=f[1];this.iconNode=f[2];this.checkbox=f[3];if(c.checked==="checked"){this.checkbox.checked=this.values[Ext.tree.TriTreeNodeUI.CHECKSTATE];this.checkbox.className=this.checkedCls[Ext.tree.TriTreeNodeUI.CHECKSTATE]}else{if(c.checked==="gray"){this.checkbox.checked=this.values[Ext.tree.TriTreeNodeUI.GRAYSTATE];this.checkbox.className=this.checkedCls[Ext.tree.TriTreeNodeUI.GRAYSTATE]}else{this.checkbox.checked=this.values[Ext.tree.TriTreeNodeUI.UNCHECKSTATE];this.checkbox.className=this.checkedCls[Ext.tree.TriTreeNodeUI.UNCHECKSTATE]}}this.anchor=f[4];this.textNode=f[4].firstChild}});Ext.namespace("SYNO.Util");SYNO.Util.copy=function(d){var a=[],b=[];return(function(j){var f,e=a.indexOf(j);if(-1!==e){return b[e]}if(Ext.isObject(j)){f={};a.push(j);b.push(f);for(var h in j){f[h]=arguments.callee(j[h])}}else{if(Ext.isArray(j)){f=[];a.push(j);b.push(f);for(var g=0;g<j.length;++g){f[g]=arguments.callee(j[g])}}else{f=j}}return f})(d)};SYNO.Util.copyApply=function(d,e,b){if(b){arguments.callee(d,b)}if(d&&e&&typeof e=="object"){for(var a in e){d[a]=SYNO.Util.copy(e[a])}}return d};SYNO=window.SYNO||{};SYNO.Encryption=SYNO.Encryption||{};SYNO.Encryption.Base64=(function(){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var a="=";return{hex2b64:function(f){var e;var g;var d="";for(e=0;e+3<=f.length;e+=3){g=parseInt(f.substring(e,e+3),16);d+=b.charAt(g>>6)+b.charAt(g&63)}if(e+1==f.length){g=parseInt(f.substring(e,e+1),16);d+=b.charAt(g<<2)}else{if(e+2==f.length){g=parseInt(f.substring(e,e+2),16);d+=b.charAt(g>>2)+b.charAt((g&3)<<4)}}while((d.length&3)>0){d+=a}return d},b64tohex:function(g){var e="";var f;var c=0;var d;for(f=0;f<g.length;++f){if(g.charAt(f)==a){break}v=b.indexOf(g.charAt(f));if(v<0){continue}if(c==0){e+=int2char(v>>2);d=v&3;c=1}else{if(c==1){e+=int2char((d<<2)|(v>>4));d=v&15;c=2}else{if(c==2){e+=int2char(d);e+=int2char(v>>2);d=v&3;c=3}else{e+=int2char((d<<2)|(v>>4));e+=int2char(v&15);c=0}}}}if(c==1){e+=int2char(d<<2)}return e},b64toBA:function(f){var e=b64tohex(f);var d;var c=new Array();for(d=0;2*d<e.length;++d){c[d]=parseInt(e.substring(2*d,2*d+2),16)}return c}}})();SYNO=window.SYNO||{};SYNO.Encryption=SYNO.Encryption||{};SYNO.Encryption.BigInteger=(function(){var H;var Z=244837814094590;var f=((Z&16777215)==15715070);function d(ab,aa,ac){if(ab!=null){if("number"==typeof ab){this.fromNumber(ab,aa,ac)}else{if(aa==null&&"string"!=typeof ab){this.fromString(ab,256)}else{this.fromString(ab,aa)}}}}function l(){return new d(null)}function L(ae,aa,ab,ad,ag,af){while(--af>=0){var ac=aa*this[ae++]+ab[ad]+ag;ag=Math.floor(ac/67108864);ab[ad++]=ac&67108863}return ag}function K(ae,aj,ak,ad,ah,aa){var ag=aj&32767,ai=aj>>15;while(--aa>=0){var ac=this[ae]&32767;var af=this[ae++]>>15;var ab=ai*ac+af*ag;ac=ag*ac+((ab&32767)<<15)+ak[ad]+(ah&1073741823);ah=(ac>>>30)+(ab>>>15)+ai*af+(ah>>>30);ak[ad++]=ac&1073741823}return ah}function J(ae,aj,ak,ad,ah,aa){var ag=aj&16383,ai=aj>>14;while(--aa>=0){var ac=this[ae]&16383;var af=this[ae++]>>14;var ab=ai*ac+af*ag;ac=ag*ac+((ab&16383)<<14)+ak[ad]+ah;ah=(ac>>28)+(ab>>14)+ai*af;ak[ad++]=ac&268435455}return ah}if(f&&(navigator.appName=="Microsoft Internet Explorer")){d.prototype.am=K;H=30}else{if(f&&(navigator.appName!="Netscape")){d.prototype.am=L;H=26}else{d.prototype.am=J;H=28}}d.prototype.DB=H;d.prototype.DM=((1<<H)-1);d.prototype.DV=(1<<H);var m=52;d.prototype.FV=Math.pow(2,m);d.prototype.F1=m-H;d.prototype.F2=2*H-m;var t="0123456789abcdefghijklmnopqrstuvwxyz";var y=new Array();var E,o;E="0".charCodeAt(0);for(o=0;o<=9;++o){y[E++]=o}E="a".charCodeAt(0);for(o=10;o<36;++o){y[E++]=o}E="A".charCodeAt(0);for(o=10;o<36;++o){y[E++]=o}function x(aa){return t.charAt(aa)}function C(ab,aa){var ac=y[ab.charCodeAt(aa)];return(ac==null)?-1:ac}function n(ab){for(var aa=this.t-1;aa>=0;--aa){ab[aa]=this[aa]}ab.t=this.t;ab.s=this.s}function R(aa){this.t=1;this.s=(aa<0)?-1:0;if(aa>0){this[0]=aa}else{if(aa<-1){this[0]=aa+DV}else{this.t=0}}}function b(aa){var ab=l();ab.fromInt(aa);return ab}function M(ag,ab){var ad;if(ab==16){ad=4}else{if(ab==8){ad=3}else{if(ab==256){ad=8}else{if(ab==2){ad=1}else{if(ab==32){ad=5}else{if(ab==4){ad=2}else{this.fromRadix(ag,ab);return}}}}}}this.t=0;this.s=0;var af=ag.length,ac=false,ae=0;while(--af>=0){var aa=(ad==8)?ag[af]&255:C(ag,af);if(aa<0){if(ag.charAt(af)=="-"){ac=true}continue}ac=false;if(ae==0){this[this.t++]=aa}else{if(ae+ad>this.DB){this[this.t-1]|=(aa&((1<<(this.DB-ae))-1))<<ae;this[this.t++]=(aa>>(this.DB-ae))}else{this[this.t-1]|=aa<<ae}}ae+=ad;if(ae>=this.DB){ae-=this.DB}}if(ad==8&&(ag[0]&128)!=0){this.s=-1;if(ae>0){this[this.t-1]|=((1<<(this.DB-ae))-1)<<ae}}this.clamp();if(ac){d.ZERO.subTo(this,this)}}function P(){var aa=this.s&this.DM;while(this.t>0&&this[this.t-1]==aa){--this.t}}function T(ab){if(this.s<0){return"-"+this.negate().toString(ab)}var ac;if(ab==16){ac=4}else{if(ab==8){ac=3}else{if(ab==2){ac=1}else{if(ab==32){ac=5}else{if(ab==4){ac=2}else{return this.toRadix(ab)}}}}}var ae=(1<<ac)-1,ah,aa=false,af="",ad=this.t;var ag=this.DB-(ad*this.DB)%ac;if(ad-->0){if(ag<this.DB&&(ah=this[ad]>>ag)>0){aa=true;af=x(ah)}while(ad>=0){if(ag<ac){ah=(this[ad]&((1<<ag)-1))<<(ac-ag);ah|=this[--ad]>>(ag+=this.DB-ac)}else{ah=(this[ad]>>(ag-=ac))&ae;if(ag<=0){ag+=this.DB;--ad}}if(ah>0){aa=true}if(aa){af+=x(ah)}}}return aa?af:"0"}function N(){var aa=l();d.ZERO.subTo(this,aa);return aa}function G(){return(this.s<0)?this.negate():this}function V(aa){var ac=this.s-aa.s;if(ac!=0){return ac}var ab=this.t;ac=ab-aa.t;if(ac!=0){return ac}while(--ab>=0){if((ac=this[ab]-aa[ab])!=0){return ac}}return 0}function U(aa){var ac=1,ab;if((ab=aa>>>16)!=0){aa=ab;ac+=16}if((ab=aa>>8)!=0){aa=ab;ac+=8}if((ab=aa>>4)!=0){aa=ab;ac+=4}if((ab=aa>>2)!=0){aa=ab;ac+=2}if((ab=aa>>1)!=0){aa=ab;ac+=1}return ac}function g(){if(this.t<=0){return 0}return this.DB*(this.t-1)+U(this[this.t-1]^(this.s&this.DM))}function a(ac,ab){var aa;for(aa=this.t-1;aa>=0;--aa){ab[aa+ac]=this[aa]}for(aa=ac-1;aa>=0;--aa){ab[aa]=0}ab.t=this.t+ac;ab.s=this.s}function z(ac,ab){for(var aa=ac;aa<this.t;++aa){ab[aa-ac]=this[aa]}ab.t=Math.max(this.t-ac,0);ab.s=this.s}function s(ah,ad){var ab=ah%this.DB;var aa=this.DB-ab;var af=(1<<aa)-1;var ae=Math.floor(ah/this.DB),ag=(this.s<<ab)&this.DM,ac;for(ac=this.t-1;ac>=0;--ac){ad[ac+ae+1]=(this[ac]>>aa)|ag;ag=(this[ac]&af)<<ab}for(ac=ae-1;ac>=0;--ac){ad[ac]=0}ad[ae]=ag;ad.t=this.t+ae+1;ad.s=this.s;ad.clamp()}function Q(ag,ad){ad.s=this.s;var ae=Math.floor(ag/this.DB);if(ae>=this.t){ad.t=0;return}var ab=ag%this.DB;var aa=this.DB-ab;var af=(1<<ab)-1;ad[0]=this[ae]>>ab;for(var ac=ae+1;ac<this.t;++ac){ad[ac-ae-1]|=(this[ac]&af)<<aa;ad[ac-ae]=this[ac]>>ab}if(ab>0){ad[this.t-ae-1]|=(this.s&af)<<aa}ad.t=this.t-ae;ad.clamp()}function h(ab,ad){var ac=0,ae=0,aa=Math.min(ab.t,this.t);while(ac<aa){ae+=this[ac]-ab[ac];ad[ac++]=ae&this.DM;ae>>=this.DB}if(ab.t<this.t){ae-=ab.s;while(ac<this.t){ae+=this[ac];ad[ac++]=ae&this.DM;ae>>=this.DB}ae+=this.s}else{ae+=this.s;while(ac<ab.t){ae-=ab[ac];ad[ac++]=ae&this.DM;ae>>=this.DB}ae-=ab.s}ad.s=(ae<0)?-1:0;if(ae<-1){ad[ac++]=this.DV+ae}else{if(ae>0){ad[ac++]=ae}}ad.t=ac;ad.clamp()}function O(ab,ad){var aa=this.abs(),ae=ab.abs();var ac=aa.t;ad.t=ac+ae.t;while(--ac>=0){ad[ac]=0}for(ac=0;ac<ae.t;++ac){ad[ac+aa.t]=aa.am(0,ae[ac],ad,ac,0,aa.t)}ad.s=0;ad.clamp();if(this.s!=ab.s){d.ZERO.subTo(ad,ad)}}function A(ac){var ab,aa=this.abs();ab=ac.t=2*aa.t;while(--ab>=0){ac[ab]=0}for(ab=0;ab<aa.t-1;++ab){var ad=aa.am(ab,aa[ab],ac,2*ab,0,1);if((ac[ab+aa.t]+=aa.am(ab+1,2*aa[ab],ac,2*ab+1,ad,aa.t-ab-1))>=aa.DV){ac[ab+aa.t]-=aa.DV;ac[ab+aa.t+1]=1}}if(ac.t>0){ac[ac.t-1]+=aa.am(ab,aa[ab],ac,2*ab,0,1)}ac.s=0;ac.clamp()}function I(aj,ag,af){var ap=aj.abs();if(ap.t<=0){return}var ah=this.abs();if(ah.t<ap.t){if(ag!=null){ag.fromInt(0)}if(af!=null){this.copyTo(af)}return}if(af==null){af=l()}var ad=l(),aa=this.s,ai=aj.s;var ao=this.DB-U(ap[ap.t-1]);if(ao>0){ap.lShiftTo(ao,ad);ah.lShiftTo(ao,af)}else{ap.copyTo(ad);ah.copyTo(af)}var al=ad.t;var ab=ad[al-1];if(ab==0){return}var ak=ab*(1<<this.F1)+((al>1)?ad[al-2]>>this.F2:0);var at=this.FV/ak,ar=(1<<this.F1)/ak,aq=1<<this.F2;var an=af.t,am=an-al,ae=(ag==null)?l():ag;ad.dlShiftTo(am,ae);if(af.compareTo(ae)>=0){af[af.t++]=1;af.subTo(ae,af)}d.ONE.dlShiftTo(al,ae);ae.subTo(ad,ad);while(ad.t<al){ad[ad.t++]=0}while(--am>=0){var ac=(af[--an]==ab)?this.DM:Math.floor(af[an]*at+(af[an-1]+aq)*ar);if((af[an]+=ad.am(0,ac,af,am,0,al))<ac){ad.dlShiftTo(am,ae);af.subTo(ae,af);while(af[an]<--ac){af.subTo(ae,af)}}}if(ag!=null){af.drShiftTo(al,ag);if(aa!=ai){d.ZERO.subTo(ag,ag)}}af.t=al;af.clamp();if(ao>0){af.rShiftTo(ao,af)}if(aa<0){d.ZERO.subTo(af,af)}}function j(aa){var ab=l();this.abs().divRemTo(aa,null,ab);if(this.s<0&&ab.compareTo(d.ZERO)>0){aa.subTo(ab,ab)}return ab}function W(aa){this.m=aa}function w(aa){if(aa.s<0||aa.compareTo(this.m)>=0){return aa.mod(this.m)}else{return aa}}function p(aa){return aa}function c(aa){aa.divRemTo(this.m,null,aa)}function X(aa,ac,ab){aa.multiplyTo(ac,ab);this.reduce(ab)}function Y(aa,ab){aa.squareTo(ab);this.reduce(ab)}W.prototype.convert=w;W.prototype.revert=p;W.prototype.reduce=c;W.prototype.mulTo=X;W.prototype.sqrTo=Y;function r(){if(this.t<1){return 0}var aa=this[0];if((aa&1)==0){return 0}var ab=aa&3;ab=(ab*(2-(aa&15)*ab))&15;ab=(ab*(2-(aa&255)*ab))&255;ab=(ab*(2-(((aa&65535)*ab)&65535)))&65535;ab=(ab*(2-aa*ab%this.DV))%this.DV;return(ab>0)?this.DV-ab:-ab}function B(aa){this.m=aa;this.mp=aa.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(aa.DB-15))-1;this.mt2=2*aa.t}function q(aa){var ab=l();aa.abs().dlShiftTo(this.m.t,ab);ab.divRemTo(this.m,null,ab);if(aa.s<0&&ab.compareTo(d.ZERO)>0){this.m.subTo(ab,ab)}return ab}function S(aa){var ab=l();aa.copyTo(ab);this.reduce(ab);return ab}function F(aa){while(aa.t<=this.mt2){aa[aa.t++]=0}for(var ac=0;ac<this.m.t;++ac){var ab=aa[ac]&32767;var ad=(ab*this.mpl+(((ab*this.mph+(aa[ac]>>15)*this.mpl)&this.um)<<15))&aa.DM;ab=ac+this.m.t;aa[ab]+=this.m.am(0,ad,aa,ac,0,this.m.t);while(aa[ab]>=aa.DV){aa[ab]-=aa.DV;aa[++ab]++}}aa.clamp();aa.drShiftTo(this.m.t,aa);if(aa.compareTo(this.m)>=0){aa.subTo(this.m,aa)}}function k(aa,ab){aa.squareTo(ab);this.reduce(ab)}function i(aa,ac,ab){aa.multiplyTo(ac,ab);this.reduce(ab)}B.prototype.convert=q;B.prototype.revert=S;B.prototype.reduce=F;B.prototype.mulTo=i;B.prototype.sqrTo=k;function u(){return 0==((this.t>0)?(this[0]&1):this.s)}function e(af,ag){if(af>4294967295||af<1){return d.ONE}var ae=l(),aa=l(),ad=ag.convert(this),ac=U(af)-1;ad.copyTo(ae);while(--ac>=0){ag.sqrTo(ae,aa);if((af&(1<<ac))>0){ag.mulTo(aa,ad,ae)}else{var ab=ae;ae=aa;aa=ab}}return ag.revert(ae)}function D(ab,aa){var ac;if(ab<256||aa.isEven()){ac=new W(aa)}else{ac=new B(aa)}return this.exp(ab,ac)}d.prototype.copyTo=n;d.prototype.fromInt=R;d.prototype.fromString=M;d.prototype.clamp=P;d.prototype.dlShiftTo=a;d.prototype.drShiftTo=z;d.prototype.lShiftTo=s;d.prototype.rShiftTo=Q;d.prototype.subTo=h;d.prototype.multiplyTo=O;d.prototype.squareTo=A;d.prototype.divRemTo=I;d.prototype.invDigit=r;d.prototype.isEven=u;d.prototype.exp=e;d.prototype.toString=T;d.prototype.negate=N;d.prototype.abs=G;d.prototype.compareTo=V;d.prototype.bitLength=g;d.prototype.mod=j;d.prototype.modPowInt=D;d.ZERO=b(0);d.ONE=b(1);return d})();SYNO=window.SYNO||{};SYNO.Encryption=SYNO.Encryption||{};SYNO.Encryption.SecureRandom=(function(){function g(){this.i=0;this.j=0;this.S=new Array()}function l(s){var r,p,q;for(r=0;r<256;++r){this.S[r]=r}p=0;for(r=0;r<256;++r){p=(p+this.S[r]+s[r%s.length])&255;q=this.S[r];this.S[r]=this.S[p];this.S[p]=q}this.i=0;this.j=0}function d(){var p;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;p=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=p;return this.S[(p+this.S[this.i])&255]}g.prototype.init=l;g.prototype.next=d;function j(){return new g()}var m=256;var k;var b;var f;function h(p){b[f++]^=p&255;b[f++]^=(p>>8)&255;b[f++]^=(p>>16)&255;b[f++]^=(p>>24)&255;if(f>=m){f-=m}}function o(){h(new Date().getTime())}if(b==null){b=new Array();f=0;var n;if(navigator.appName=="Netscape"&&navigator.appVersion<"5"&&window.crypto){var i=window.crypto.random(32);for(n=0;n<i.length;++n){b[f++]=i.charCodeAt(n)&255}}while(f<m){n=Math.floor(65536*Math.random());b[f++]=n>>>8;b[f++]=n&255}f=0;o()}function c(){if(k==null){o();k=j();k.init(b);for(f=0;f<b.length;++f){b[f]=0}f=0}return k.next()}function e(q){var p;for(p=0;p<q.length;++p){q[p]=c()}}function a(){}a.prototype.nextBytes=e;a.rng_seed_time=o;return a})();SYNO=window.SYNO||{};SYNO.Encryption=SYNO.Encryption||{};SYNO.Encryption.RSA=(function(){function c(i,h){return new SYNO.Encryption.BigInteger(i,h)}function b(h){if(h<16){return"0"+h.toString(16)}return h.toString(16)}function a(l,p){if(p<l.length+11){return null}var o=new Array();var k=l.length-1;while(k>=0&&p>0){var m=l.charCodeAt(k--);if(m<128){o[--p]=m}else{if((m>127)&&(m<2048)){o[--p]=(m&63)|128;o[--p]=(m>>6)|192}else{o[--p]=(m&63)|128;o[--p]=((m>>6)&63)|128;o[--p]=(m>>12)|224}}}o[--p]=0;var j=new SYNO.Encryption.SecureRandom();var h=new Array();while(p>2){h[0]=0;while(h[0]==0){j.nextBytes(h)}o[--p]=h[0]}o[--p]=2;o[--p]=0;return new SYNO.Encryption.BigInteger(o)}function e(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function f(i,h){if(i!=null&&h!=null&&i.length>0&&h.length>0){this.n=c(i,16);this.e=parseInt(h,16)}else{}}function g(h){return h.modPowInt(this.e,this.n)}function d(k){var i=a(k,(this.n.bitLength()+7)>>3);if(i==null){return null}var l=this.doPublic(i);if(l==null){return null}var j=l.toString(16);if((j.length&1)==0){return j}else{return"0"+j}}e.prototype.doPublic=g;e.prototype.setPublic=f;e.prototype.encrypt=d;return e})();SYNO=window.SYNO||{};SYNO.Encryption=SYNO.Encryption||{};SYNO.Encryption.CipherKey="";SYNO.Encryption.RSAModulus="";SYNO.Encryption.EncryptParam=function(d){var b,c,a={};if(!SYNO.Encryption.CipherKey||!SYNO.Encryption.RSAModulus){return d}b=new SYNO.Encryption.RSA();b.setPublic(SYNO.Encryption.RSAModulus,"10001");c=b.encrypt(Ext.urlEncode(d));if(!c){return d}a[SYNO.Encryption.CipherKey]=SYNO.Encryption.Base64.hex2b64(c);return a};